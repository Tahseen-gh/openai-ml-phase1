[mypy]
python_version = 3.12
warn_unused_ignores = True
warn_redundant_casts = True
no_implicit_optional = True
explicit_package_bases = True

# Default (repo-wide): permissive
disallow_untyped_defs = False
check_untyped_defs = False

# Strict just for the FastAPI app
[mypy-fastapi_app.*]
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True
strict_optional = True
warn_return_any = True

# Tests and non-web modules: permissive for now
[mypy-fastapi_app.tests.*]
disallow_untyped_defs = False
check_untyped_defs = False

[mypy-rag.*]
disallow_untyped_defs = False
check_untyped_defs = False

[mypy-ml.*]
disallow_untyped_defs = False
check_untyped_defs = False

[mypy-evals.*]
disallow_untyped_defs = False
check_untyped_defs = False
